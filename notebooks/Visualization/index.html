<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  
  <link rel="shortcut icon" href="../../img/favicon.ico">
  <title>Visualization - Kamodo Analysis Suite</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700" />

  <link rel="stylesheet" href="../../css/theme.css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
  <link href="../../css/ansi-colours.css" rel="stylesheet" />
  <link href="../../css/jupyter-cells.css" rel="stylesheet" />
  <link href="../../css/pandas-dataframe.css" rel="stylesheet" />
  
  <script>
    // Current page data
    var mkdocs_page_name = "Visualization";
    var mkdocs_page_input_path = "notebooks/Visualization.ipynb";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js" defer></script>
  <script src="../../js/modernizr-2.8.3.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> Kamodo Analysis Suite</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../..">Home</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../about/">About</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../Kamodo/">Introduction</a>
                    </li>
                </ul>
                <ul class="current">
                    <li class="toctree-l1 current"><a class="reference internal current" href="./">Visualization</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#overview">Overview</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#available-plot-types">Available Plot Types</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#1-dimensional-line-plots">1-Dimensional line plots</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#time-series-data">Time series data</a>
    </li>
    </ul>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../Syntax/">Syntax</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../Kamodofying_Models/">Kamodofying Models</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../FieldIntegration/">Field Integration</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="" href="../kameleon-kamodo.ipynb">Kameleon</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="" href="../TIEGCM.ipynb">TIEGCM</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../API/">API</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../additional_resources/">Additional Resources</a>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">Kamodo Analysis Suite</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
    
    <li>Visualization</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  
  <hr/>
</div>

          <div role="main">
            <div class="section">
              
                <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
<script>
(function() {
  function addWidgetsRenderer() {
    var requireJsScript = document.createElement('script');
    requireJsScript.src = 'https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js';

    var mimeElement = document.querySelector('script[type="application/vnd.jupyter.widget-view+json"]');
    var jupyterWidgetsScript = document.createElement('script');
    var widgetRendererSrc = 'https://unpkg.com/@jupyter-widgets/html-manager@*/dist/embed-amd.js';
    var widgetState;

    // Fallback for older version:
    try {
      widgetState = mimeElement && JSON.parse(mimeElement.innerHTML);

      if (widgetState && (widgetState.version_major < 2 || !widgetState.version_major)) {
        widgetRendererSrc = 'jupyter-js-widgets@*/dist/embed.js';
      }
    } catch(e) {}

    jupyterWidgetsScript.src = widgetRendererSrc;

    document.body.appendChild(requireJsScript);
    document.body.appendChild(jupyterWidgetsScript);
  }

  document.addEventListener('DOMContentLoaded', addWidgetsRenderer);
}());
</script>

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="visualization">Visualization<a class="headerlink" href="#visualization" title="Permanent link">&para;</a></h2>
<h3 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link">&para;</a></h3>
<p>Visualization poses a significant challenge for the space weather community: output from models and data are very domain-specific, both in content (coordinate systems, units) and in representation (file formats and data structures). On the other hand, science users also have their preferred context for analyzing these results - for instance, they may only want simulation results interpolated on a satellite trajectory and in a specific coordinate system with their own prefered units.</p>
<p>Kamodo aims to strike a balance between the intent of the model (or data) provider and the goals of the user, by making it easy for developers to provide context for their output and for users to easily change that context. It accomplishes this in two ways:</p>
<ul>
<li>By leveraging default arguments given by model and data providers </li>
<li>By mapping the shape of function inputs and output to certain registered plot types</li>
</ul>
<p>This strategy allows Kamodo to automatically generate plots for arbitrary model output and data sources, while still allowing for customization by the end user.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="available-plot-types">Available Plot Types<a class="headerlink" href="#available-plot-types" title="Permanent link">&para;</a></h3>
<p>Kamodo keeps a registry of plotting functions, indexed by argument shape and output shape.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">


<div class="codehilite"><pre><span></span><code><span class="kn">from</span> <span class="nn">kamodo.plotting</span> <span class="kn">import</span> <span class="n">plot_types</span>
<span class="n">plot_types</span>
</code></pre></div>



</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="scoped">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
<thead>
    <tr style="text-align: right;">
      <th></th>
      <th></th>
      <th>plot_type</th>
      <th>function</th>
    </tr>
    <tr>
      <th>out_shape</th>
      <th>arg_shapes</th>
      <th></th>
      <th></th>
    </tr>
  </thead>
<tbody>
    <tr>
      <th>(1,)</th>
      <th>((N, M), (N, M), (N, M))</th>
      <td>3d-parametric</td>
      <td>kamodo.plotting.surface</td>
    </tr>
    <tr>
      <th rowspan="4" valign="top">(N,)</th>
      <th>((N,),)</th>
      <td>1d-line</td>
      <td>kamodo.plotting.line_plot</td>
    </tr>
    <tr>
      <th>((N,), (N,))</th>
      <td>2d-line-scalar</td>
      <td>kamodo.plotting.line_plot</td>
    </tr>
    <tr>
      <th>((N,), (N,), (N,))</th>
      <td>3d-line-scalar</td>
      <td>kamodo.plotting.line_plot</td>
    </tr>
    <tr>
      <th>((N, 3),)</th>
      <td>3d scatter</td>
      <td>kamodo.plotting.scatter_plot</td>
    </tr>
    <tr>
      <th rowspan="2" valign="top">(N, 2)</th>
      <th>((N,),)</th>
      <td>2d-line</td>
      <td>kamodo.plotting.line_plot</td>
    </tr>
    <tr>
      <th>((N, 2),)</th>
      <td>2d-vector</td>
      <td>kamodo.plotting.vector_plot</td>
    </tr>
    <tr>
      <th rowspan="3" valign="top">(N, 3)</th>
      <th>((N,),)</th>
      <td>3d-line</td>
      <td>kamodo.plotting.line_plot</td>
    </tr>
    <tr>
      <th>((N, 3),)</th>
      <td>3d-vector</td>
      <td>kamodo.plotting.vector_plot</td>
    </tr>
    <tr>
      <th>((M,), (M,), (M,))</th>
      <td>3d-tri-surface</td>
      <td>kamodo.plotting.tri_surface_plot</td>
    </tr>
    <tr>
      <th>(N, N)</th>
      <th>((N,), (N,))</th>
      <td>2d-contour</td>
      <td>kamodo.plotting.contour_plot</td>
    </tr>
    <tr>
      <th rowspan="7" valign="top">(N, M)</th>
      <th>((N,), (M,))</th>
      <td>2d-contour</td>
      <td>kamodo.plotting.contour_plot</td>
    </tr>
    <tr>
      <th>((M,), (N,))</th>
      <td>2d-contour</td>
      <td>kamodo.plotting.contour_plot</td>
    </tr>
    <tr>
      <th>((N, M), (N, M))</th>
      <td>2d-contour-skew</td>
      <td>kamodo.plotting.contour_plot</td>
    </tr>
    <tr>
      <th>((N, M), (N, M), (N, M))</th>
      <td>3d-parametric-scalar</td>
      <td>kamodo.plotting.surface</td>
    </tr>
    <tr>
      <th>((1,), (N, M), (N, M))</th>
      <td>3d-plane</td>
      <td>kamodo.plotting.plane</td>
    </tr>
    <tr>
      <th>((N, M), (1,), (N, M))</th>
      <td>3d-plane</td>
      <td>kamodo.plotting.plane</td>
    </tr>
    <tr>
      <th>((N, M), (N, M), (1,))</th>
      <td>3d-plane</td>
      <td>kamodo.plotting.plane</td>
    </tr>
    <tr>
      <th rowspan="2" valign="top">(N, 1, M)</th>
      <th>((N,), (1,), (M,))</th>
      <td>3d-plane</td>
      <td>kamodo.plotting.plane</td>
    </tr>
    <tr>
      <th>((1,), (N,), (M,))</th>
      <td>3d-plane</td>
      <td>kamodo.plotting.plane</td>
    </tr>
    <tr>
      <th>(1, N, M)</th>
      <th>((N,), (1,), (M,))</th>
      <td>3d-plane</td>
      <td>kamodo.plotting.plane</td>
    </tr>
    <tr>
      <th rowspan="4" valign="top">(N, M, 1)</th>
      <th>((1,), (N,), (M,))</th>
      <td>3d-plane</td>
      <td>kamodo.plotting.plane</td>
    </tr>
    <tr>
      <th>((N,), (1,), (M,))</th>
      <td>3d-plane</td>
      <td>kamodo.plotting.plane</td>
    </tr>
    <tr>
      <th>((N,), (M,), (1,))</th>
      <td>3d-plane</td>
      <td>kamodo.plotting.plane</td>
    </tr>
    <tr>
      <th>((M,), (N,), (1,))</th>
      <td>3d-plane</td>
      <td>kamodo.plotting.plane</td>
    </tr>
    <tr>
      <th>(N, M, 3)</th>
      <th>((N,), (M,))</th>
      <td>image</td>
      <td>kamodo.plotting.image</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>When a user tries to plot a given variable, a lookup is made into the table above and the corresponding plotting function is used to generate the output. Examples below demonstrate the intended workflow.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="1-dimensional-line-plots">1-Dimensional line plots<a class="headerlink" href="#1-dimensional-line-plots" title="Permanent link">&para;</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">


<div class="codehilite"><pre><span></span><code><span class="kn">from</span> <span class="nn">kamodo</span> <span class="kn">import</span> <span class="n">Kamodo</span><span class="p">,</span> <span class="n">kamodofy</span>
<span class="n">kamodo</span> <span class="o">=</span> <span class="n">Kamodo</span><span class="p">(</span><span class="s1">&#39;g_N[kg] = x_N**2&#39;</span><span class="p">)</span>
<span class="n">kamodo</span><span class="p">[</span><span class="s1">&#39;f[g]&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;g_N&#39;</span>
<span class="n">kamodo</span>
</code></pre></div>



</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="output_latex output_subarea output_execute_result">
\begin{equation}\operatorname{g_{N}}{\left(x_{N} \right)}[kg] = x_{N}^{2}\end{equation} \begin{equation}f{\left(x_{N} \right)}[g] = 1000 \operatorname{g_{N}}{\left(x_{N} \right)}\end{equation}
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Here we have defined a function <script type="math/tex">g_N</script> which returns an array of shape <script type="math/tex">N</script>. As input, it takes one argument <script type="math/tex">x_N</script> which also has size <script type="math/tex">N</script>. We also generate a function <script type="math/tex">f</script> which is the same as <script type="math/tex">g_N</script> but with a different units.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>We could have named the function <script type="math/tex">g</script> instead of <script type="math/tex">g_N</script>. The variable names have no bearing on the resulting plots - only the argument input shapes and output shapes matter.</p>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>When we call Kamodo's plot function, we define which variable we are plotting and domain over which the arguments are applied:</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">


<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">plotly.io</span> <span class="k">as</span> <span class="nn">pio</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">kamodo</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">f</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">x_N</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">30</span><span class="p">)))</span>
<span class="c1"># pio.write_image(fig, &#39;images/1d-line.svg&#39;)</span>
</code></pre></div>



</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><img alt="1d" src="../images/1d-line.svg?1" /></p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>This is the graph <script type="math/tex">f(x_n)</script> for <script type="math/tex">x_N \in [-4,3]</script>.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="time-series-data">Time series data<a class="headerlink" href="#time-series-data" title="Permanent link">&para;</a></h3>
<p>The process for time series data is the same, except we use a pandas datetime index for the input argument.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">


<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="n">t_N</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">date_range</span><span class="p">(</span><span class="s1">&#39;Nov 9, 2018&#39;</span><span class="p">,</span> <span class="s1">&#39;Nov 20, 2018&#39;</span><span class="p">,</span> <span class="n">freq</span> <span class="o">=</span> <span class="s1">&#39;H&#39;</span><span class="p">)</span>
</code></pre></div>



</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">


<div class="codehilite"><pre><span></span><code><span class="nd">@kamodofy</span><span class="p">(</span><span class="n">units</span> <span class="o">=</span> <span class="s1">&#39;kg/m**3&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">rho_N</span><span class="p">(</span><span class="n">t_N</span> <span class="o">=</span> <span class="n">t_N</span><span class="p">):</span>
    <span class="n">dt_days</span> <span class="o">=</span> <span class="p">(</span><span class="n">t_N</span> <span class="o">-</span> <span class="n">t_N</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">.</span><span class="n">total_seconds</span><span class="p">()</span><span class="o">/</span><span class="p">(</span><span class="mi">24</span><span class="o">*</span><span class="mi">3600</span><span class="p">)</span>
    <span class="k">return</span> <span class="mi">1</span><span class="o">+</span><span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">dt_days</span><span class="p">)</span> <span class="o">+</span> <span class="mf">.1</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">dt_days</span><span class="p">))</span>

<span class="n">kamodo</span> <span class="o">=</span> <span class="n">Kamodo</span><span class="p">(</span><span class="n">rho_N</span> <span class="o">=</span> <span class="n">rho_N</span><span class="p">,</span> <span class="n">verbose</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>
<span class="n">kamodo</span>
</code></pre></div>



</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="output_latex output_subarea output_execute_result">
\begin{equation}\rho_{N}{\left(t_{N} \right)}[\frac{kg}{m^{3}}] = \lambda{\left(t_{N} \right)}\end{equation}
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">


<div class="codehilite"><pre><span></span><code><span class="n">fig</span> <span class="o">=</span> <span class="n">kamodo</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="s1">&#39;rho_N&#39;</span><span class="p">)</span>
</code></pre></div>



</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>In this case, we only need to name the variable we wish to plot, because we have already defined a function <script type="math/tex">rho_N(t_N)</script> with a default parameter for <script type="math/tex">t_N</script>. </p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">


<div class="codehilite"><pre><span></span><code><span class="c1"># pio.write_image(fig, &#39;images/1d-time-series.svg&#39;)</span>
</code></pre></div>



</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><img alt="timeseries" src="../images/1d-time-series.svg" /></p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>By providing default parameters, the function author can insure that anyone plotting the variable will not need to know where to place resolution!</p>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="2-d-parametric-charts">2-D Parametric charts<a class="headerlink" href="#2-d-parametric-charts" title="Permanent link">&para;</a></h2>
<p>For 2-D Plots, the output function must have input shape <script type="math/tex">(N,1)</script> and output shape <script type="math/tex">(N,2)</script>.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">


<div class="codehilite"><pre><span></span><code><span class="kn">from</span> <span class="nn">kamodo</span> <span class="kn">import</span> <span class="n">Kamodo</span>
<span class="nd">@kamodofy</span><span class="p">(</span><span class="n">units</span> <span class="o">=</span> <span class="s1">&#39;cm&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">x_Ncomma2</span><span class="p">(</span><span class="n">theta_N</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">6</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span> <span class="mi">200</span><span class="p">)):</span>
    <span class="n">r</span> <span class="o">=</span> <span class="n">theta_N</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">r</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">theta_N</span><span class="p">)</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">r</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">theta_N</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)))</span>

<span class="n">kamodo</span> <span class="o">=</span> <span class="n">Kamodo</span><span class="p">(</span><span class="n">x_Ncomma2</span> <span class="o">=</span> <span class="n">x_Ncomma2</span><span class="p">)</span>
<span class="n">kamodo</span>
</code></pre></div>



</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="output_latex output_subarea output_execute_result">
\begin{equation}\operatorname{x_{N,2}}{\left(\theta_{N} \right)}[cm] = \lambda{\left(\theta_{N} \right)}\end{equation}
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Here, we again provide a default array for <script type="math/tex">\theta_N</script> so the end user does not need to:</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">


<div class="codehilite"><pre><span></span><code><span class="n">fig</span> <span class="o">=</span> <span class="n">kamodo</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="s1">&#39;x_Ncomma2&#39;</span><span class="p">)</span>
<span class="c1"># pio.write_image(fig, &#39;images/fig-2d.svg&#39;)</span>
</code></pre></div>



</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><img alt="param2d" src="../images/fig-2d.svg" /></p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="3-dimensional-parametric-curves">3-Dimensional parametric curves<a class="headerlink" href="#3-dimensional-parametric-curves" title="Permanent link">&para;</a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>For 3-D parametric curves, the output function must have input shape <script type="math/tex">(N,1)</script> and output shape <script type="math/tex">(N,3)</script>.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">


<div class="codehilite"><pre><span></span><code><span class="nd">@kamodofy</span><span class="p">(</span><span class="n">units</span> <span class="o">=</span> <span class="s1">&#39;km&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">x_Ncomma3</span><span class="p">(</span><span class="n">t_N</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">date_range</span><span class="p">(</span><span class="s1">&#39;Nov 12, 2018&#39;</span><span class="p">,</span> <span class="s1">&#39;Dec 30, 2018&#39;</span><span class="p">,</span> <span class="n">freq</span> <span class="o">=</span> <span class="s1">&#39;4 H&#39;</span><span class="p">)):</span>
    <span class="n">dt_days</span> <span class="o">=</span> <span class="p">(</span><span class="n">t_N</span> <span class="o">-</span> <span class="n">t_N</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">.</span><span class="n">total_seconds</span><span class="p">()</span><span class="o">/</span><span class="p">(</span><span class="mi">24</span><span class="o">*</span><span class="mi">3600</span><span class="p">)</span>
    <span class="n">theta</span> <span class="o">=</span> <span class="n">dt_days</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">5</span>
    <span class="n">r</span> <span class="o">=</span> <span class="n">theta</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">r</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">theta</span><span class="p">)</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">r</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">theta</span><span class="p">)</span>
    <span class="n">z</span> <span class="o">=</span> <span class="n">r</span>
    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="p">)))</span>

<span class="n">kamodo</span> <span class="o">=</span> <span class="n">Kamodo</span><span class="p">(</span><span class="n">x_Ncomma3</span> <span class="o">=</span> <span class="n">x_Ncomma3</span><span class="p">)</span>
<span class="n">kamodo</span>
</code></pre></div>



</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="output_latex output_subarea output_execute_result">
\begin{equation}\operatorname{x_{N,3}}{\left(t_{N} \right)}[km] = \lambda{\left(t_{N} \right)}\end{equation}
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">


<div class="codehilite"><pre><span></span><code><span class="n">fig</span> <span class="o">=</span> <span class="n">kamodo</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="s1">&#39;x_Ncomma3&#39;</span><span class="p">)</span>
<span class="c1"># pio.write_image(fig, &#39;images/3d-line.svg&#39;)</span>
</code></pre></div>



</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><img alt="3d-line" src="../images/3d-line.svg" /></p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Functions of three N-d arrays are also interpreted as 3D parametric plots, but with an additonal color component.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">


<div class="codehilite"><pre><span></span><code><span class="n">s</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">8</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
<span class="n">x</span> <span class="o">=</span> <span class="mi">10</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">s</span><span class="o">/</span><span class="mi">8</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="mi">10</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="n">z</span> <span class="o">=</span> <span class="n">s</span>

<span class="nd">@kamodofy</span><span class="p">(</span><span class="n">units</span> <span class="o">=</span> <span class="s1">&#39;kg&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">f_N</span><span class="p">(</span><span class="n">x_N</span> <span class="o">=</span> <span class="n">x</span><span class="p">,</span> <span class="n">y_N</span> <span class="o">=</span> <span class="n">y</span><span class="p">,</span> <span class="n">z_N</span> <span class="o">=</span> <span class="n">z</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">x_N</span><span class="o">**</span><span class="mi">2</span><span class="o">+</span><span class="n">y_N</span><span class="o">**</span><span class="mi">2</span><span class="o">+</span><span class="n">z_N</span><span class="o">**</span><span class="mi">2</span>

<span class="n">kamodo</span> <span class="o">=</span> <span class="n">Kamodo</span><span class="p">(</span><span class="n">f_N</span> <span class="o">=</span> <span class="n">f_N</span><span class="p">)</span>
<span class="n">kamodo</span>
</code></pre></div>



</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="output_latex output_subarea output_execute_result">
\begin{equation}\operatorname{f_{N}}{\left(x_{N},y_{N},z_{N} \right)}[kg] = \lambda{\left(x_{N},y_{N},z_{N} \right)}\end{equation}
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">


<div class="codehilite"><pre><span></span><code><span class="n">fig</span> <span class="o">=</span> <span class="n">kamodo</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="s1">&#39;f_N&#39;</span><span class="p">)</span>
<span class="c1"># pio.write_image(fig, &#39;images/3d-points.svg&#39;)</span>
</code></pre></div>



</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><img alt="3d-points" src="../images/3d-points.svg" /></p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="vector-fields">Vector fields<a class="headerlink" href="#vector-fields" title="Permanent link">&para;</a></h1>
<p>Kamodo generates a 2-d vector (quiver) plot for functions of one variable, if both the input and output have shape (N,2). The input positions are assumed to be <script type="math/tex">x</script>,<script type="math/tex">y</script> and the output vectors are assumed to be <script type="math/tex">v_x</script>, <script type="math/tex">v_y</script>
</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">


<div class="codehilite"><pre><span></span><code><span class="n">theta_N</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">6</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span>
<span class="n">r</span> <span class="o">=</span> <span class="n">theta_N</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">r</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">theta_N</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">r</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">theta_N</span><span class="p">)</span>
<span class="n">points</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)))</span>

<span class="nd">@kamodofy</span><span class="p">(</span><span class="n">units</span> <span class="o">=</span> <span class="s1">&#39;cm&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">fvec_Ncomma2</span><span class="p">(</span><span class="n">rvec_Ncomma2</span> <span class="o">=</span> <span class="n">points</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">rvec_Ncomma2</span>

<span class="n">kamodo</span> <span class="o">=</span> <span class="n">Kamodo</span><span class="p">(</span><span class="n">fvec_Ncomma2</span> <span class="o">=</span> <span class="n">fvec_Ncomma2</span><span class="p">)</span>
<span class="n">kamodo</span>
</code></pre></div>



</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="output_latex output_subarea output_execute_result">
\begin{equation}\vec{f}_{N,2}{\left(\vec{r}_{N,2} \right)}[cm] = \lambda{\left(\vec{r}_{N,2} \right)}\end{equation}
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">


<div class="codehilite"><pre><span></span><code><span class="n">fig</span> <span class="o">=</span> <span class="n">kamodo</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="s1">&#39;fvec_Ncomma2&#39;</span><span class="p">)</span>
<span class="c1"># pio.write_image(fig, &#39;images/fig2d-vector.svg&#39;)</span>
</code></pre></div>



</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><img alt="fig2dvec" src="../images/fig2d-vector.svg" /></p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>If we wish to represent a grid of vectors, we must first unravel the grid as a string of points.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">


<div class="codehilite"><pre><span></span><code><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span> <span class="mi">25</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span> <span class="mi">30</span><span class="p">)</span>
<span class="n">xx</span><span class="p">,</span> <span class="n">yy</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">meshgrid</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span>
<span class="n">points</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">xx</span><span class="o">.</span><span class="n">ravel</span><span class="p">(),</span> <span class="n">yy</span><span class="o">.</span><span class="n">ravel</span><span class="p">())))</span>

<span class="k">def</span> <span class="nf">fvec_Ncomma2</span><span class="p">(</span><span class="n">rvec_Ncomma2</span> <span class="o">=</span> <span class="n">points</span><span class="p">):</span>
    <span class="n">ux</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">rvec_Ncomma2</span><span class="p">[:,</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">uy</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">rvec_Ncomma2</span><span class="p">[:,</span><span class="mi">1</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">vstack</span><span class="p">((</span><span class="n">ux</span><span class="p">,</span><span class="n">uy</span><span class="p">))</span><span class="o">.</span><span class="n">T</span>

<span class="n">kamodo</span> <span class="o">=</span> <span class="n">Kamodo</span><span class="p">(</span><span class="n">fvec_Ncomma2</span> <span class="o">=</span> <span class="n">fvec_Ncomma2</span><span class="p">)</span>
<span class="n">kamodo</span>
</code></pre></div>



</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="output_latex output_subarea output_execute_result">
\begin{equation}\vec{f}_{N,2}{\left(\vec{r}_{N,2} \right)} = \lambda{\left(\vec{r}_{N,2} \right)}\end{equation}
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">


<div class="codehilite"><pre><span></span><code><span class="n">fig</span> <span class="o">=</span> <span class="n">kamodo</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="s1">&#39;fvec_Ncomma2&#39;</span><span class="p">)</span>
<span class="c1"># pio.write_image(fig, &#39;images/fig2d-vector-field.svg&#39;)</span>
</code></pre></div>



</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><img alt="fig2dvec" src="../images/fig2d-vector-field.svg" /></p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="3d-vector-fields">3D vector fields<a class="headerlink" href="#3d-vector-fields" title="Permanent link">&para;</a></h3>
<p>Functions representing 3D vector fields should have one argument of shape (N,3) and an output shape of (N,3)</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">


<div class="codehilite"><pre><span></span><code><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">meshgrid</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span>
                      <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">6</span><span class="p">),</span>
                      <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>
<span class="n">points</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">ravel</span><span class="p">(),</span> <span class="n">y</span><span class="o">.</span><span class="n">ravel</span><span class="p">(),</span> <span class="n">z</span><span class="o">.</span><span class="n">ravel</span><span class="p">())))</span>
<span class="k">def</span> <span class="nf">fvec_Ncomma3</span><span class="p">(</span><span class="n">rvec_Ncomma3</span> <span class="o">=</span> <span class="n">points</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">rvec_Ncomma3</span>

<span class="n">kamodo</span> <span class="o">=</span> <span class="n">Kamodo</span><span class="p">(</span><span class="n">fvec_Ncomma3</span> <span class="o">=</span> <span class="n">fvec_Ncomma3</span><span class="p">)</span>
<span class="n">kamodo</span>
</code></pre></div>



</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="output_latex output_subarea output_execute_result">
\begin{equation}\vec{f}_{N,3}{\left(\vec{r}_{N,3} \right)} = \lambda{\left(\vec{r}_{N,3} \right)}\end{equation}
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">


<div class="codehilite"><pre><span></span><code><span class="n">fig</span> <span class="o">=</span> <span class="n">kamodo</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="s1">&#39;fvec_Ncomma3&#39;</span><span class="p">)</span>
<span class="c1"># pio.write_image(fig, &#39;images/fig3d-vector.svg&#39;)</span>
</code></pre></div>



</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><img alt="fig3dvec" src="../images/fig3d-vector.svg" /></p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="contour-plots">Contour plots<a class="headerlink" href="#contour-plots" title="Permanent link">&para;</a></h1>
<p>Scalar functions of two variables of size (N) and (M) and output size (N,M) will generate contour plots. Kamodo can handle both <code>ij</code> indexing and <code>xy</code> indexing.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">


<div class="codehilite"><pre><span></span><code><span class="kn">from</span> <span class="nn">kamodo</span> <span class="kn">import</span> <span class="n">Kamodo</span>
<span class="nd">@kamodofy</span><span class="p">(</span><span class="n">units</span> <span class="o">=</span> <span class="s1">&#39;cm^2&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">f_NcommaM</span><span class="p">(</span><span class="n">x_N</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">8</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span><span class="mi">100</span><span class="p">),</span> <span class="n">y_M</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">90</span><span class="p">)):</span>
    <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">meshgrid</span><span class="p">(</span><span class="n">x_N</span><span class="p">,</span> <span class="n">y_M</span><span class="p">,</span> <span class="n">indexing</span> <span class="o">=</span> <span class="s1">&#39;xy&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">*</span><span class="n">y</span>

<span class="n">kamodo</span> <span class="o">=</span> <span class="n">Kamodo</span><span class="p">(</span><span class="n">f_NcommaM</span> <span class="o">=</span> <span class="n">f_NcommaM</span><span class="p">)</span>
<span class="n">kamodo</span>
</code></pre></div>



</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="output_latex output_subarea output_execute_result">
\begin{equation}\operatorname{f_{N,M}}{\left(x_{N},y_{M} \right)}[cm^{2}] = \lambda{\left(x_{N},y_{M} \right)}\end{equation}
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">


<div class="codehilite"><pre><span></span><code><span class="n">fig</span> <span class="o">=</span> <span class="n">kamodo</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="s1">&#39;f_NcommaM&#39;</span><span class="p">)</span>
<span class="c1"># pio.write_image(fig, &#39;images/fig2d-contour.svg&#39;)</span>
</code></pre></div>



</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><img alt="contour" src="../images/fig2d-contour.svg" /></p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Since <script type="math/tex">x_N</script> and <script type="math/tex">y_M</script> have differnt sizes, we could have used <code>indexing=ij</code> as an argument to meshgrid and kamodo would have produced the same figure - Kamodo swaps the ordering where appropriate. In the event that <em>both</em> arguments have the same size, we can pass an <code>indexing</code> argument as an option to the plot function.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">


<div class="codehilite"><pre><span></span><code><span class="nd">@kamodofy</span><span class="p">(</span><span class="n">units</span> <span class="o">=</span> <span class="s1">&#39;cm**2&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">f_NN</span><span class="p">(</span><span class="n">x_N</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">8</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span> <span class="mi">90</span><span class="p">),</span> <span class="n">y_N</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">90</span><span class="p">)):</span>
    <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">meshgrid</span><span class="p">(</span><span class="n">x_N</span><span class="p">,</span> <span class="n">y_N</span><span class="p">,</span> <span class="n">indexing</span> <span class="o">=</span> <span class="s1">&#39;xy&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">*</span><span class="n">y</span>

<span class="n">kamodo</span> <span class="o">=</span> <span class="n">Kamodo</span><span class="p">(</span><span class="n">f_NN</span> <span class="o">=</span> <span class="n">f_NN</span><span class="p">)</span>
<span class="n">kamodo</span>
</code></pre></div>



</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="output_latex output_subarea output_execute_result">
\begin{equation}\operatorname{f_{NN}}{\left(x_{N},y_{N} \right)}[cm^{2}] = \lambda{\left(x_{N},y_{N} \right)}\end{equation}
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">


<div class="codehilite"><pre><span></span><code><span class="n">fig</span> <span class="o">=</span> <span class="n">kamodo</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">f_NN</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">indexing</span> <span class="o">=</span> <span class="s1">&#39;xy&#39;</span><span class="p">))</span>
<span class="c1"># pio.write_image(fig, &#39;images/fig2d-contour-xy.svg&#39;)</span>
</code></pre></div>



</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><img alt="fig2dcontourxy" src="../images/fig2d-contour-xy.svg" /></p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="skew-carpet-plots">Skew (Carpet) Plots<a class="headerlink" href="#skew-carpet-plots" title="Permanent link">&para;</a></h1>
<p>Functions of two arguments each having shape (N,M) matching the output shape will produce skewed contour plots, whereby the x and y components of the grid are independent.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">


<div class="codehilite"><pre><span></span><code><span class="n">r</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>
<span class="n">theta</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span> <span class="mi">14</span><span class="p">)</span>
<span class="n">r_</span><span class="p">,</span> <span class="n">theta_</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">meshgrid</span><span class="p">(</span><span class="n">r</span><span class="p">,</span><span class="n">theta</span><span class="p">)</span>
<span class="n">XX</span> <span class="o">=</span> <span class="n">r_</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">theta_</span><span class="p">)</span>
<span class="n">YY</span> <span class="o">=</span> <span class="n">r_</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">theta_</span><span class="p">)</span>

<span class="nd">@kamodofy</span><span class="p">(</span><span class="n">units</span> <span class="o">=</span> <span class="s1">&#39;cm**2&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">f_NM</span><span class="p">(</span><span class="n">x_NM</span> <span class="o">=</span> <span class="n">XX</span><span class="p">,</span> <span class="n">y_NM</span> <span class="o">=</span> <span class="n">YY</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">x_NM</span><span class="p">)</span><span class="o">+</span><span class="n">y_NM</span>

<span class="n">kamodo</span> <span class="o">=</span> <span class="n">Kamodo</span><span class="p">(</span><span class="n">f_NM</span> <span class="o">=</span> <span class="n">f_NM</span><span class="p">)</span>
<span class="n">kamodo</span>
</code></pre></div>



</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="output_latex output_subarea output_execute_result">
\begin{equation}\operatorname{f_{NM}}{\left(x_{NM},y_{NM} \right)}[cm^{2}] = \lambda{\left(x_{NM},y_{NM} \right)}\end{equation}
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">


<div class="codehilite"><pre><span></span><code><span class="n">fig</span> <span class="o">=</span> <span class="n">kamodo</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="s1">&#39;f_NM&#39;</span><span class="p">)</span>
<span class="c1"># pio.write_image(fig, &#39;images/fig2d-skew.svg&#39;)</span>
</code></pre></div>



</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><img alt="fig2dskew" src="../images/fig2d-skew.svg" /></p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="parametric-surfaces">Parametric surfaces<a class="headerlink" href="#parametric-surfaces" title="Permanent link">&para;</a></h1>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>To generate a purely geometrical parametric surface, supply a functions of three variables, each of size (N,M) and of output shape (1).</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">


<div class="codehilite"><pre><span></span><code><span class="kn">from</span> <span class="nn">kamodo</span> <span class="kn">import</span> <span class="n">Kamodo</span>
<span class="n">u</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">40</span><span class="p">)</span>
<span class="n">v</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span>
<span class="n">uu</span><span class="p">,</span> <span class="n">vv</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">meshgrid</span><span class="p">(</span><span class="n">u</span><span class="p">,</span><span class="n">v</span><span class="p">)</span>

<span class="nd">@kamodofy</span><span class="p">(</span><span class="n">units</span> <span class="o">=</span> <span class="s1">&#39;cm&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">parametric</span><span class="p">(</span><span class="n">x_NM</span> <span class="o">=</span> <span class="n">uu</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">vv</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">),</span> 
               <span class="n">y_NM</span> <span class="o">=</span> <span class="n">vv</span><span class="p">,</span> 
               <span class="n">z_NM</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="n">uu</span><span class="o">**</span><span class="mi">2</span><span class="o">-</span><span class="n">vv</span><span class="o">**</span><span class="mi">2</span><span class="p">)):</span>
    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">])</span>
<span class="n">kamodo</span> <span class="o">=</span> <span class="n">Kamodo</span><span class="p">(</span><span class="n">p</span> <span class="o">=</span> <span class="n">parametric</span><span class="p">)</span>
<span class="n">kamodo</span>
</code></pre></div>



</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="output_latex output_subarea output_execute_result">
\begin{equation}p{\left(x_{NM},y_{NM},z_{NM} \right)}[cm] = \lambda{\left(x_{NM},y_{NM},z_{NM} \right)}\end{equation}
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">


<div class="codehilite"><pre><span></span><code><span class="n">fig</span> <span class="o">=</span> <span class="n">kamodo</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="s1">&#39;p&#39;</span><span class="p">)</span>
<span class="c1"># pio.write_image(fig, &#39;images/3d-parametric.svg&#39;)</span>
</code></pre></div>



</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><img alt="3dparametric" src="../images/3d-parametric.svg" /></p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>To control the color of the parametric surface, have the output shape be (N,M).</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">


<div class="codehilite"><pre><span></span><code><span class="n">R</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">theta</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mf">.2</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span> <span class="mf">.8</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span> <span class="mi">40</span><span class="p">)</span>
<span class="n">phi</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span>
<span class="n">theta_</span><span class="p">,</span> <span class="n">phi_</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">meshgrid</span><span class="p">(</span><span class="n">theta</span><span class="p">,</span> <span class="n">phi</span><span class="p">)</span>
<span class="n">r</span> <span class="o">=</span> <span class="p">(</span><span class="n">R</span> <span class="o">+</span><span class="mf">.1</span><span class="o">*</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="mi">10</span><span class="o">*</span><span class="n">theta_</span><span class="p">)</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="mi">14</span><span class="o">*</span><span class="n">phi_</span><span class="p">)))</span>

<span class="n">xx</span> <span class="o">=</span> <span class="n">r</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">theta_</span><span class="p">)</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">phi_</span><span class="p">)</span>
<span class="n">yy</span> <span class="o">=</span> <span class="n">r</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">theta_</span><span class="p">)</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">phi_</span><span class="p">)</span>
<span class="n">zz</span> <span class="o">=</span> <span class="n">r</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">theta_</span><span class="p">)</span>

<span class="nd">@kamodofy</span><span class="p">(</span><span class="n">units</span> <span class="o">=</span> <span class="s1">&#39;cm&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">spherelike</span><span class="p">(</span><span class="n">x_NM</span> <span class="o">=</span> <span class="n">xx</span><span class="p">,</span> <span class="n">y_NM</span> <span class="o">=</span> <span class="n">yy</span><span class="p">,</span> <span class="n">z_NM</span> <span class="o">=</span> <span class="n">zz</span><span class="p">):</span>
    <span class="k">return</span> <span class="mf">.1</span><span class="o">*</span><span class="n">x_NM</span> <span class="o">+</span> <span class="n">x_NM</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">y_NM</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">z_NM</span><span class="o">**</span><span class="mi">2</span>

<span class="n">kamodo</span> <span class="o">=</span> <span class="n">Kamodo</span><span class="p">(</span><span class="n">h_NM</span> <span class="o">=</span> <span class="n">spherelike</span><span class="p">)</span>
<span class="n">kamodo</span>
</code></pre></div>



</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="output_latex output_subarea output_execute_result">
\begin{equation}\operatorname{h_{NM}}{\left(x_{NM},y_{NM},z_{NM} \right)}[cm] = \lambda{\left(x_{NM},y_{NM},z_{NM} \right)}\end{equation}
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">


<div class="codehilite"><pre><span></span><code><span class="n">fig</span> <span class="o">=</span> <span class="n">kamodo</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="s1">&#39;h_NM&#39;</span><span class="p">)</span>
<span class="c1"># pio.write_image(fig, &#39;images/3d-parametric-color.svg&#39;)</span>
</code></pre></div>



</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><img alt="parametric3dcolor" src="../images/3d-parametric-color.svg" /></p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="map-to-plane">Map-to-plane<a class="headerlink" href="#map-to-plane" title="Permanent link">&para;</a></h2>
<p>We often need to produce slices through a volumetric grid of data. This may be accomplished through the use of volumetric grid interpolators equipped with default values for each of the input arguments. Suppose such a function has default input arguments of size (L), (M), (N), and output shape (L,M,N), then a cartesian plane will be generated if the user overrides one of these defaults (e.g. setting <script type="math/tex">L = 1</script>).</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">


<div class="codehilite"><pre><span></span><code><span class="nd">@kamodofy</span><span class="p">(</span><span class="n">units</span> <span class="o">=</span> <span class="s1">&#39;g/cm**3&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">f_LMN</span><span class="p">(</span>
      <span class="n">x_L</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">50</span><span class="p">),</span> 
      <span class="n">y_M</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">75</span><span class="p">),</span> 
      <span class="n">z_N</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">100</span><span class="p">)):</span>
    <span class="n">xx</span><span class="p">,</span> <span class="n">yy</span><span class="p">,</span> <span class="n">zz</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">meshgrid</span><span class="p">(</span><span class="n">x_L</span><span class="p">,</span><span class="n">y_M</span><span class="p">,</span><span class="n">z_N</span><span class="p">,</span> <span class="n">indexing</span> <span class="o">=</span> <span class="s1">&#39;xy&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">xx</span> <span class="o">+</span> <span class="n">yy</span> <span class="o">+</span> <span class="n">zz</span>

<span class="n">kamodo</span> <span class="o">=</span> <span class="n">Kamodo</span><span class="p">(</span><span class="n">f_LMN</span> <span class="o">=</span> <span class="n">f_LMN</span><span class="p">)</span>
<span class="n">kamodo</span>
</code></pre></div>



</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="output_latex output_subarea output_execute_result">
\begin{equation}\operatorname{f_{LMN}}{\left(x_{L},y_{M},z_{N} \right)}[\frac{g}{cm^{3}}] = \lambda{\left(x_{L},y_{M},z_{N} \right)}\end{equation}
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">


<div class="codehilite"><pre><span></span><code><span class="n">fig</span> <span class="o">=</span> <span class="n">kamodo</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">f_LMN</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">z_N</span> <span class="o">=</span> <span class="o">-</span><span class="mi">5</span><span class="p">))</span>
<span class="c1"># pio.write_image(fig,&#39;images/fig2d-map-to-plane.svg&#39;)</span>
</code></pre></div>



</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><img alt="maptoplane" src="../images/fig2d-map-to-plane.svg" /></p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>By providing appropriate defaults for the undelying grid structure, the interpolator author can ensure that the user can generate figures with optimal resolution!</p>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="multiple-traces">Multiple traces<a class="headerlink" href="#multiple-traces" title="Permanent link">&para;</a></h1>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Kamodo supports multiple traces in the same figure. Simply provide <code>plot</code> with multiple function-argument pairs.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">


<div class="codehilite"><pre><span></span><code><span class="kn">from</span> <span class="nn">kamodo</span> <span class="kn">import</span> <span class="n">Kamodo</span>
<span class="n">t_N</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">date_range</span><span class="p">(</span><span class="s1">&#39;Nov 9, 2018&#39;</span><span class="p">,</span> <span class="s1">&#39;Nov 20, 2018&#39;</span><span class="p">,</span> <span class="n">freq</span> <span class="o">=</span> <span class="s1">&#39;H&#39;</span><span class="p">)</span>

<span class="nd">@kamodofy</span><span class="p">(</span><span class="n">units</span> <span class="o">=</span> <span class="s1">&#39;kg/m**3&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">rho_N</span><span class="p">(</span><span class="n">t_N</span> <span class="o">=</span> <span class="n">t_N</span><span class="p">):</span>
    <span class="n">dt_days</span> <span class="o">=</span> <span class="p">(</span><span class="n">t_N</span> <span class="o">-</span> <span class="n">t_N</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">.</span><span class="n">total_seconds</span><span class="p">()</span><span class="o">/</span><span class="p">(</span><span class="mi">24</span><span class="o">*</span><span class="mi">3600</span><span class="p">)</span>
    <span class="k">return</span> <span class="mi">1</span><span class="o">+</span><span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">dt_days</span><span class="p">)</span> <span class="o">+</span> <span class="mf">.1</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">dt_days</span><span class="p">))</span>

<span class="nd">@kamodofy</span><span class="p">(</span><span class="n">units</span> <span class="o">=</span> <span class="s1">&#39;nPa&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">p_N</span><span class="p">(</span><span class="n">t_N</span> <span class="o">=</span> <span class="n">t_N</span><span class="p">):</span>
    <span class="n">dt_days</span> <span class="o">=</span> <span class="p">(</span><span class="n">t_N</span> <span class="o">-</span> <span class="n">t_N</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">.</span><span class="n">total_seconds</span><span class="p">()</span><span class="o">/</span><span class="p">(</span><span class="mi">24</span><span class="o">*</span><span class="mi">3600</span><span class="p">)</span>
    <span class="k">return</span> <span class="mi">1</span><span class="o">+</span><span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">dt_days</span><span class="p">)</span> <span class="o">+</span> <span class="mf">.1</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">dt_days</span><span class="p">))</span>


<span class="n">kamodo</span> <span class="o">=</span> <span class="n">Kamodo</span><span class="p">(</span><span class="n">rho_N</span> <span class="o">=</span> <span class="n">rho_N</span><span class="p">,</span> <span class="n">p_N</span> <span class="o">=</span> <span class="n">p_N</span><span class="p">,</span> <span class="n">verbose</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>
<span class="n">kamodo</span>
</code></pre></div>



</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="output_latex output_subarea output_execute_result">
\begin{equation}\rho_{N}{\left(t_{N} \right)}[\frac{kg}{m^{3}}] = \lambda{\left(t_{N} \right)}\end{equation} \begin{equation}\operatorname{p_{N}}{\left(t_{N} \right)}[nPa] = \lambda{\left(t_{N} \right)}\end{equation}
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">


<div class="codehilite"><pre><span></span><code><span class="n">fig</span> <span class="o">=</span> <span class="n">kamodo</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="s1">&#39;p_N&#39;</span><span class="p">,</span><span class="s1">&#39;rho_N&#39;</span><span class="p">)</span>
<span class="c1"># pio.write_image(fig, &#39;images/multi-trace.svg&#39;)</span>
</code></pre></div>



</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><img alt="multitrace" src="../images/multi-trace.svg" /></p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Plot types must be compatible for kamodo to plot different variables on the same axes.</p>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Kamodo can also handle multiple traces in 3D</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">


<div class="codehilite"><pre><span></span><code><span class="kn">from</span> <span class="nn">kamodo</span> <span class="kn">import</span> <span class="n">Kamodo</span><span class="p">,</span> <span class="n">kamodofy</span>

<span class="nd">@kamodofy</span><span class="p">(</span><span class="n">units</span> <span class="o">=</span> <span class="s1">&#39;g/cm**3&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">f_LMN</span><span class="p">(</span>
      <span class="n">x_L</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">50</span><span class="p">),</span> 
      <span class="n">y_M</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">75</span><span class="p">),</span> 
      <span class="n">z_N</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">100</span><span class="p">)):</span>
    <span class="n">xx</span><span class="p">,</span> <span class="n">yy</span><span class="p">,</span> <span class="n">zz</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">meshgrid</span><span class="p">(</span><span class="n">x_L</span><span class="p">,</span><span class="n">y_M</span><span class="p">,</span><span class="n">z_N</span><span class="p">,</span> <span class="n">indexing</span> <span class="o">=</span> <span class="s1">&#39;xy&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">xx</span> <span class="o">+</span> <span class="n">yy</span> <span class="o">+</span> <span class="n">zz</span>

<span class="n">kamodo</span> <span class="o">=</span> <span class="n">Kamodo</span><span class="p">(</span><span class="n">f_LMN</span> <span class="o">=</span> <span class="n">f_LMN</span><span class="p">,</span> <span class="n">g_LMN</span> <span class="o">=</span> <span class="n">f_LMN</span><span class="p">)</span>
<span class="n">kamodo</span>
</code></pre></div>



</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="output_latex output_subarea output_execute_result">
\begin{equation}\operatorname{g_{LMN}}{\left(x_{L},y_{M},z_{N} \right)}[\frac{g}{cm^{3}}] = \lambda{\left(x_{L},y_{M},z_{N} \right)}\end{equation} \begin{equation}\operatorname{g_{LMN}}{\left(x_{L},y_{M},z_{N} \right)}[\frac{g}{cm^{3}}] = \lambda{\left(x_{L},y_{M},z_{N} \right)}\end{equation}
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">


<div class="codehilite"><pre><span></span><code><span class="n">fig</span> <span class="o">=</span> <span class="n">kamodo</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">f_LMN</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">z_N</span> <span class="o">=</span> <span class="mi">0</span><span class="p">),</span> 
                  <span class="n">g_LMN</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">y_M</span> <span class="o">=</span> <span class="mi">5</span><span class="p">))</span>
</code></pre></div>



</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">


<div class="codehilite"><pre><span></span><code><span class="c1"># pio.write_image(fig, &#39;images/multi-trace3d.svg&#39;)</span>
</code></pre></div>



</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><img alt="multi3d" src="../images/multi-trace3d.svg?1" /></p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<div class="admonition bug">
<p class="admonition-title">Bug</p>
<p>Multiple traces results in different colorbars which may overlap. More control over the layout will be available in future updates. </p>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="interactive-plotting">Interactive Plotting<a class="headerlink" href="#interactive-plotting" title="Permanent link">&para;</a></h1>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>For interactive 3d plots, we take advantage of Plotly's in-browser plotting library.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">


<div class="codehilite"><pre><span></span><code><span class="kn">from</span> <span class="nn">plotly.offline</span> <span class="kn">import</span> <span class="n">iplot</span><span class="p">,</span> <span class="n">plot</span><span class="p">,</span> <span class="n">init_notebook_mode</span>
</code></pre></div>



</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>To generate a separate interactive html page, use <code>iplot</code> instead of <code>plot</code>:</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">


<div class="codehilite"><pre><span></span><code><span class="c1"># plot(fig, filename = &#39;sample_plot.html&#39;) #uncomment to render 3D interactive plot in this cell </span>
</code></pre></div>



</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>navigate to the 3d interactive plot: <a href="../sample_plot.html">sample_plot.html</a>.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Alternatively, you may work with interactive plots directly in jupyter notebooks:</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">


<div class="codehilite"><pre><span></span><code><span class="c1"># init_notebook_mode() # uncomment to initialize plotly for notebook</span>
<span class="c1"># iplot(fig) #uncomment to render 3D interactive plot in this cell </span>
</code></pre></div>



</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>We have commented out the above lines because they do not render properly on the documentation server, but rest assured they do work!</p>
</div>
</div>
</div>
</div>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../Syntax/" class="btn btn-neutral float-right" title="Syntax">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../Kamodo/" class="btn btn-neutral" title="Introduction"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../Kamodo/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../Syntax/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script>var base_url = '../..';</script>
    <script src="../../js/theme_extra.js" defer></script>
    <script src="../../js/theme.js" defer></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" defer></script>
      <script src="../../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
